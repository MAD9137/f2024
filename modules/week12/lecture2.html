<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>üöÄ MVVM and Gestures | MAD9137</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="iOS App Development">
    
    <link rel="preload" href="/f2024/assets/css/0.styles.c2500b0e.css" as="style"><link rel="preload" href="/f2024/assets/js/app.ff4b473c.js" as="script"><link rel="preload" href="/f2024/assets/js/2.19621ee8.js" as="script"><link rel="preload" href="/f2024/assets/js/1.884addea.js" as="script"><link rel="preload" href="/f2024/assets/js/53.7b36724f.js" as="script"><link rel="prefetch" href="/f2024/assets/js/10.14d5c403.js"><link rel="prefetch" href="/f2024/assets/js/11.03916557.js"><link rel="prefetch" href="/f2024/assets/js/12.b43e8f2c.js"><link rel="prefetch" href="/f2024/assets/js/13.6649c7b8.js"><link rel="prefetch" href="/f2024/assets/js/14.88d905c8.js"><link rel="prefetch" href="/f2024/assets/js/15.7e17213b.js"><link rel="prefetch" href="/f2024/assets/js/16.e53c757f.js"><link rel="prefetch" href="/f2024/assets/js/17.3cc02802.js"><link rel="prefetch" href="/f2024/assets/js/18.81d0be88.js"><link rel="prefetch" href="/f2024/assets/js/19.ca440789.js"><link rel="prefetch" href="/f2024/assets/js/20.5a6b51cb.js"><link rel="prefetch" href="/f2024/assets/js/21.fdfc60c0.js"><link rel="prefetch" href="/f2024/assets/js/22.d45beffc.js"><link rel="prefetch" href="/f2024/assets/js/23.748b914a.js"><link rel="prefetch" href="/f2024/assets/js/24.562b255d.js"><link rel="prefetch" href="/f2024/assets/js/25.07dd87ce.js"><link rel="prefetch" href="/f2024/assets/js/26.9e88fd64.js"><link rel="prefetch" href="/f2024/assets/js/27.57083705.js"><link rel="prefetch" href="/f2024/assets/js/28.1e2c1dcb.js"><link rel="prefetch" href="/f2024/assets/js/29.6fd79959.js"><link rel="prefetch" href="/f2024/assets/js/3.f5bb6a7e.js"><link rel="prefetch" href="/f2024/assets/js/30.6562eb4a.js"><link rel="prefetch" href="/f2024/assets/js/31.d218ee3e.js"><link rel="prefetch" href="/f2024/assets/js/32.0727d00d.js"><link rel="prefetch" href="/f2024/assets/js/33.ca1cbd6f.js"><link rel="prefetch" href="/f2024/assets/js/34.2b799c9a.js"><link rel="prefetch" href="/f2024/assets/js/35.17fffc6e.js"><link rel="prefetch" href="/f2024/assets/js/36.1b306dce.js"><link rel="prefetch" href="/f2024/assets/js/37.68b1930f.js"><link rel="prefetch" href="/f2024/assets/js/38.5d1a191e.js"><link rel="prefetch" href="/f2024/assets/js/39.70fcc88a.js"><link rel="prefetch" href="/f2024/assets/js/4.86681f1d.js"><link rel="prefetch" href="/f2024/assets/js/40.66f2c3d4.js"><link rel="prefetch" href="/f2024/assets/js/41.9436c4cc.js"><link rel="prefetch" href="/f2024/assets/js/42.f6d38922.js"><link rel="prefetch" href="/f2024/assets/js/43.21b9dffe.js"><link rel="prefetch" href="/f2024/assets/js/44.566b600d.js"><link rel="prefetch" href="/f2024/assets/js/45.ecc7b8d8.js"><link rel="prefetch" href="/f2024/assets/js/46.c656f49a.js"><link rel="prefetch" href="/f2024/assets/js/47.61f2f808.js"><link rel="prefetch" href="/f2024/assets/js/48.f7508614.js"><link rel="prefetch" href="/f2024/assets/js/49.c899ad80.js"><link rel="prefetch" href="/f2024/assets/js/5.adc9a5d1.js"><link rel="prefetch" href="/f2024/assets/js/50.99676a36.js"><link rel="prefetch" href="/f2024/assets/js/51.38bb45fe.js"><link rel="prefetch" href="/f2024/assets/js/52.614fccfc.js"><link rel="prefetch" href="/f2024/assets/js/54.b5c0c418.js"><link rel="prefetch" href="/f2024/assets/js/55.03470e62.js"><link rel="prefetch" href="/f2024/assets/js/56.84890f08.js"><link rel="prefetch" href="/f2024/assets/js/57.7aa92c91.js"><link rel="prefetch" href="/f2024/assets/js/58.92d72b8e.js"><link rel="prefetch" href="/f2024/assets/js/59.1b53643f.js"><link rel="prefetch" href="/f2024/assets/js/6.6eb1a791.js"><link rel="prefetch" href="/f2024/assets/js/60.8bc303c4.js"><link rel="prefetch" href="/f2024/assets/js/61.aa986d88.js"><link rel="prefetch" href="/f2024/assets/js/62.815308ff.js"><link rel="prefetch" href="/f2024/assets/js/63.a0945eb0.js"><link rel="prefetch" href="/f2024/assets/js/64.c0449f75.js"><link rel="prefetch" href="/f2024/assets/js/65.970756fc.js"><link rel="prefetch" href="/f2024/assets/js/66.645f0806.js"><link rel="prefetch" href="/f2024/assets/js/67.f92bb3ff.js"><link rel="prefetch" href="/f2024/assets/js/68.532f22bc.js"><link rel="prefetch" href="/f2024/assets/js/69.a32903df.js"><link rel="prefetch" href="/f2024/assets/js/7.b2a63ac7.js"><link rel="prefetch" href="/f2024/assets/js/70.7e894bf2.js"><link rel="prefetch" href="/f2024/assets/js/71.93316e3c.js"><link rel="prefetch" href="/f2024/assets/js/72.1bf9bc70.js"><link rel="prefetch" href="/f2024/assets/js/73.00d69342.js"><link rel="prefetch" href="/f2024/assets/js/74.589ed425.js"><link rel="prefetch" href="/f2024/assets/js/75.03e78b55.js"><link rel="prefetch" href="/f2024/assets/js/76.b2942795.js"><link rel="prefetch" href="/f2024/assets/js/77.1eb39bb2.js"><link rel="prefetch" href="/f2024/assets/js/78.4b383d9c.js"><link rel="prefetch" href="/f2024/assets/js/79.e6f309f4.js"><link rel="prefetch" href="/f2024/assets/js/80.d91645d2.js"><link rel="prefetch" href="/f2024/assets/js/81.348aedc5.js"><link rel="prefetch" href="/f2024/assets/js/82.08cae932.js"><link rel="prefetch" href="/f2024/assets/js/83.011ec79e.js"><link rel="prefetch" href="/f2024/assets/js/84.b5e809b6.js"><link rel="prefetch" href="/f2024/assets/js/85.b08c258a.js"><link rel="prefetch" href="/f2024/assets/js/86.93d26ccd.js"><link rel="prefetch" href="/f2024/assets/js/87.b3adcd6f.js"><link rel="prefetch" href="/f2024/assets/js/vendors~docsearch.02634ae8.js">
    <link rel="stylesheet" href="/f2024/assets/css/0.styles.c2500b0e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/f2024/" class="home-link router-link-active"><!----> <span class="site-name">MAD9137</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/f2024/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/f2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/f2024/modules/week1/lecture1.html" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/f2024/assessment/" class="nav-link">
  Assessments
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/f2024/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/f2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/f2024/modules/week1/lecture1.html" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/f2024/assessment/" class="nav-link">
  Assessments
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week1/" class="sidebar-heading clickable"><span>Week 1</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week2/" class="sidebar-heading clickable"><span>Week 2</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week3/" class="sidebar-heading clickable"><span>Week 3</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week4/" class="sidebar-heading clickable"><span>Week 4</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week5/" class="sidebar-heading clickable"><span>Week 5</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week6/" class="sidebar-heading clickable"><span>Week 6</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week7/" class="sidebar-heading clickable"><span>Week 7</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/f2024/modules/week8/" class="sidebar-link">Week 8</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week9/" class="sidebar-heading clickable"><span>Week 9</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week10/" class="sidebar-heading clickable"><span>Week 10</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week11/" class="sidebar-heading clickable"><span>Week 11</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week12/" class="sidebar-heading clickable router-link-active open"><span>Week 12</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/f2024/modules/week12/lecture1.html" class="sidebar-link">üöÄ Animations</a></li><li><a href="/f2024/modules/week12/lecture2.html" aria-current="page" class="active sidebar-link">üöÄ MVVM and Gestures</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-model" class="sidebar-link">üõ†Ô∏è Model</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-view" class="sidebar-link">üõ†Ô∏è View</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-viewmodel" class="sidebar-link">üõ†Ô∏è ViewModel</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-integrating-mvvm-in-swiftui" class="sidebar-link">üõ†Ô∏è Integrating MVVM in SwiftUI</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-benefits-of-mvvm" class="sidebar-link">üõ†Ô∏è Benefits of MVVM</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-common-pitfalls" class="sidebar-link">üõ†Ô∏è Common Pitfalls</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-introduction-to-gestures" class="sidebar-link">üõ†Ô∏è Introduction to Gestures</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üåü-why-gestures-are-important" class="sidebar-link">üåü Why Gestures Are Important</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-types-of-gestures-in-swiftui" class="sidebar-link">üõ†Ô∏è Types of Gestures in SwiftUI</a></li><li class="sidebar-sub-header"><a href="/f2024/modules/week12/lecture2.html#üõ†Ô∏è-setting-up-basic-gestures" class="sidebar-link">üõ†Ô∏è Setting Up Basic Gestures</a></li></ul></li><li><a href="/f2024/modules/week12/exercises.html" class="sidebar-link">ü§Ø Exercises</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/week13/" class="sidebar-heading clickable"><span>Week 13</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2024/modules/14-firebase/" class="sidebar-heading clickable"><span>Week 14</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/f2024/modules/week15/" class="sidebar-link">Week 15</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="üöÄ-mvvm-and-gestures"><a href="#üöÄ-mvvm-and-gestures" class="header-anchor">#</a> üöÄ MVVM and Gestures</h1> <p>The MVVM (Model-View-ViewModel) pattern is a powerful architectural design pattern used in iOS development to achieve a clean separation of concerns. This separation is achieved by organizing code into three primary components:</p> <ol><li><strong>Model</strong>: Represents the data layer and business logic.</li> <li><strong>View</strong>: Represents the user interface and user interactions.</li> <li><strong>ViewModel</strong>: Acts as a mediator between the Model and the View, handling the presentation logic.</li></ol> <p>Understanding and implementing MVVM can greatly enhance the maintainability, testability, and scalability of your code.</p> <h2 id="üõ†Ô∏è-model"><a href="#üõ†Ô∏è-model" class="header-anchor">#</a> üõ†Ô∏è Model</h2> <p>The <strong>Model</strong> is responsible for managing the data and business logic of the application. It consists of data structures, network requests, and any business rules necessary to manipulate the data. The Model should be agnostic of the UI and should not include any code related to presentation.</p> <h3 id="characteristics-of-the-model"><a href="#characteristics-of-the-model" class="header-anchor">#</a> Characteristics of the Model</h3> <ul><li><strong>Data Representation</strong>: Models often represent entities in the application, such as users, products, or articles.</li> <li><strong>Business Logic</strong>: Contains the logic necessary to perform operations on the data, such as calculations or validations.</li> <li><strong>Persistence</strong>: May handle data persistence, such as saving data to a database or making network requests.</li></ul> <h3 id="example-model"><a href="#example-model" class="header-anchor">#</a> Example Model</h3> <p>Here‚Äôs an example of a model in Swift:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// A simple model representing a user</span>
<span class="token keyword">struct</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> email<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">}</span>

<span class="token comment">// Another example with additional functionality</span>
<span class="token keyword">struct</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> price<span class="token punctuation">:</span> <span class="token class-name">Double</span>
    
    <span class="token comment">// Method to apply a discount</span>
    <span class="token keyword">func</span> <span class="token function-definition function">discountedPrice</span><span class="token punctuation">(</span>discount<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Double</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> price <span class="token operator">-</span> <span class="token punctuation">(</span>price <span class="token operator">*</span> discount<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="üõ†Ô∏è-view"><a href="#üõ†Ô∏è-view" class="header-anchor">#</a> üõ†Ô∏è View</h2> <p>The <strong>View</strong> is responsible for presenting the data to the user and capturing user interactions. In SwiftUI, a View is typically defined using structs that conform to the <code>View</code> protocol. Views should be as simple as possible and should not contain any complex business logic.</p> <h3 id="characteristics-of-the-view"><a href="#characteristics-of-the-view" class="header-anchor">#</a> Characteristics of the View</h3> <ul><li><strong>Presentation</strong>: Displays the data to the user in a user-friendly format.</li> <li><strong>User Interaction</strong>: Captures user inputs and interactions, such as button clicks or text input.</li> <li><strong>Declarative Syntax</strong>: In SwiftUI, views are defined declaratively, describing what the UI should look like based on the current state.</li></ul> <h3 id="example-view"><a href="#example-view" class="header-anchor">#</a> Example View</h3> <p>Here‚Äôs an example of a view in SwiftUI:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>

<span class="token keyword">struct</span> <span class="token class-name">UserView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> user<span class="token punctuation">:</span> <span class="token class-name">User</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">{</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Text</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>email<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>subheadline<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="üõ†Ô∏è-viewmodel"><a href="#üõ†Ô∏è-viewmodel" class="header-anchor">#</a> üõ†Ô∏è ViewModel</h2> <p>The <strong>ViewModel</strong> acts as the intermediary between the Model and the View. It is responsible for providing data to the View and handling presentation logic. The ViewModel should not contain any UI code but should prepare and transform the data into a format that is suitable for display.</p> <h3 id="characteristics-of-the-viewmodel"><a href="#characteristics-of-the-viewmodel" class="header-anchor">#</a> Characteristics of the ViewModel</h3> <ul><li><strong>Data Preparation</strong>: Processes data from the Model and makes it ready for presentation.</li> <li><strong>Commands</strong>: Handles user interactions and updates the Model accordingly.</li> <li><strong>State Management</strong>: Manages the state of the data and provides it to the View.</li></ul> <h4 id="example-viewmodel"><a href="#example-viewmodel" class="header-anchor">#</a> Example ViewModel</h4> <p>Here‚Äôs an example of a ViewModel in Swift:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>

<span class="token keyword">class</span> <span class="token class-name">UserViewModel</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> user<span class="token punctuation">:</span> <span class="token class-name">User</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span>user<span class="token punctuation">:</span> <span class="token class-name">User</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>user <span class="token operator">=</span> user
    <span class="token punctuation">}</span>
    
    <span class="token comment">// Function to update the user's name</span>
    <span class="token keyword">func</span> <span class="token function-definition function">updateUserName</span><span class="token punctuation">(</span>to newName<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        user<span class="token punctuation">.</span>name <span class="token operator">=</span> newName
    <span class="token punctuation">}</span>
    
    <span class="token comment">// Computed property to display user email in a specific format</span>
    <span class="token keyword">var</span> formattedEmail<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;Contact: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">user<span class="token punctuation">.</span>email</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="üõ†Ô∏è-integrating-mvvm-in-swiftui"><a href="#üõ†Ô∏è-integrating-mvvm-in-swiftui" class="header-anchor">#</a> üõ†Ô∏è Integrating MVVM in SwiftUI</h2> <p>To see how the MVVM pattern works together, let's build a complete example. We will create a simple application that displays user information and allows updating the user‚Äôs name.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> Example</h3> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>

<span class="token comment">// Model</span>
<span class="token keyword">struct</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> email<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">}</span>

<span class="token comment">// ViewModel</span>
<span class="token keyword">class</span> <span class="token class-name">UserViewModel</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> user<span class="token punctuation">:</span> <span class="token class-name">User</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span>user<span class="token punctuation">:</span> <span class="token class-name">User</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>user <span class="token operator">=</span> user
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">updateUserName</span><span class="token punctuation">(</span>to newName<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        user<span class="token punctuation">.</span>name <span class="token operator">=</span> newName
    <span class="token punctuation">}</span>
    
    <span class="token keyword">var</span> formattedEmail<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;Contact: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">user<span class="token punctuation">.</span>email</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// View</span>
<span class="token keyword">struct</span> <span class="token class-name">UserView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@StateObject</span> <span class="token keyword">var</span> viewModel<span class="token punctuation">:</span> <span class="token class-name">UserViewModel</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">{</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Text</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">.</span>formattedEmail<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>subheadline<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                viewModel<span class="token punctuation">.</span><span class="token function">updateUserName</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;New Name&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Update Name&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Application Entry Point</span>
<span class="token attribute atrule">@main</span>
<span class="token keyword">struct</span> <span class="token class-name">MVVMExampleApp</span><span class="token punctuation">:</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">Scene</span> <span class="token punctuation">{</span>
        <span class="token class-name">WindowGroup</span> <span class="token punctuation">{</span>
            <span class="token class-name">UserView</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">:</span> <span class="token class-name">UserViewModel</span><span class="token punctuation">(</span>user<span class="token punctuation">:</span> <span class="token class-name">User</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;John Doe&quot;</span></span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;john.doe@example.com&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><h2 id="üõ†Ô∏è-benefits-of-mvvm"><a href="#üõ†Ô∏è-benefits-of-mvvm" class="header-anchor">#</a> üõ†Ô∏è Benefits of MVVM</h2> <ol><li><strong>Reactive Data Binding</strong>: SwiftUI‚Äôs <code>@StateObject</code> and <code>@Published</code> make it easy to bind the ViewModel to the View, ensuring the UI automatically updates when the data changes.</li> <li><strong>Separation of Concerns</strong>: MVVM enforces a clear separation between UI code and business logic, which helps in managing complex applications.</li> <li><strong>Testability</strong>: By isolating the business logic in the ViewModel, you can test the logic independently from the UI, making unit tests more straightforward.</li></ol> <h2 id="üõ†Ô∏è-common-pitfalls"><a href="#üõ†Ô∏è-common-pitfalls" class="header-anchor">#</a> üõ†Ô∏è Common Pitfalls</h2> <ul><li><strong>Overloading the ViewModel</strong>: Ensure that the ViewModel remains focused on presentation logic. Avoid putting complex business logic or extensive data processing in the ViewModel.</li> <li><strong>Direct Model Access</strong>: Avoid direct access to the Model from the View. Instead, always interact through the ViewModel to ensure the separation of concerns is maintained.</li></ul> <h1 id="üöÄ-handling-gestures-in-swiftui"><a href="#üöÄ-handling-gestures-in-swiftui" class="header-anchor">#</a> üöÄ Handling Gestures in SwiftUI</h1> <h2 id="üõ†Ô∏è-introduction-to-gestures"><a href="#üõ†Ô∏è-introduction-to-gestures" class="header-anchor">#</a> üõ†Ô∏è Introduction to Gestures</h2> <p>Gestures in SwiftUI allow users to interact with your app in intuitive ways, such as tapping, swiping, pinching, and dragging. By handling gestures effectively, you can build a dynamic and engaging user interface.</p> <hr> <h2 id="üåü-why-gestures-are-important"><a href="#üåü-why-gestures-are-important" class="header-anchor">#</a> üåü Why Gestures Are Important</h2> <ol><li><strong>Enhanced User Experience</strong>: Makes the interface interactive and intuitive.</li> <li><strong>Efficient Navigation</strong>: Allows users to perform actions without relying solely on buttons.</li> <li><strong>Creative Design</strong>: Enables custom gestures for unique user interactions.</li></ol> <hr> <h2 id="üõ†Ô∏è-types-of-gestures-in-swiftui"><a href="#üõ†Ô∏è-types-of-gestures-in-swiftui" class="header-anchor">#</a> üõ†Ô∏è Types of Gestures in SwiftUI</h2> <p>SwiftUI provides built-in gesture types that you can customize to fit your app‚Äôs requirements.</p> <ol><li><strong>TapGesture</strong>: Detects a single or multiple taps.</li> <li><strong>LongPressGesture</strong>: Detects a long press with an optional duration.</li> <li><strong>DragGesture</strong>: Tracks the user‚Äôs finger movement.</li> <li><strong>MagnificationGesture</strong>: Recognizes pinch-to-zoom gestures.</li> <li><strong>RotationGesture</strong>: Detects rotation movements.</li></ol> <hr> <h2 id="üõ†Ô∏è-setting-up-basic-gestures"><a href="#üõ†Ô∏è-setting-up-basic-gestures" class="header-anchor">#</a> üõ†Ô∏è Setting Up Basic Gestures</h2> <h3 id="tap-gesture"><a href="#tap-gesture" class="header-anchor">#</a> Tap Gesture</h3> <p>A <strong>tap gesture</strong> is one of the simplest ways to interact with a view.</p> <hr> <h4 id="example-1-single-tap"><a href="#example-1-single-tap" class="header-anchor">#</a> <strong>Example 1: Single Tap</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">TapGestureExample</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Tap the circle&quot;</span></span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">{</span>
                message <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Circle tapped!&quot;</span></span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token class-name">Text</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottom<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><hr> <h4 id="example-2-double-tap"><a href="#example-2-double-tap" class="header-anchor">#</a> <strong>Example 2: Double Tap</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">DoubleTapExample</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> color<span class="token punctuation">:</span> <span class="token class-name">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>blue
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">onTapGesture</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                color <span class="token operator">=</span> color <span class="token operator">==</span> <span class="token punctuation">.</span>blue <span class="token operator">?</span> <span class="token punctuation">.</span>green <span class="token punctuation">:</span> <span class="token punctuation">.</span>blue
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr> <h4 id="example-3-triple-tap"><a href="#example-3-triple-tap" class="header-anchor">#</a> <strong>Example 3: Triple Tap</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">TripleTapExample</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Triple tap me!&quot;</span></span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">onTapGesture</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Triple tapped!&quot;</span></span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr> <h4 id="example-4-tap-with-animation"><a href="#example-4-tap-with-animation" class="header-anchor">#</a> <strong>Example 4: Tap with Animation</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">TapWithAnimation</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> scale<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span> <span class="token operator">=</span> <span class="token number">1.0</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">scaleEffect</span><span class="token punctuation">(</span>scale<span class="token punctuation">)</span>
            <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">{</span>
                withAnimation <span class="token punctuation">{</span>
                    scale <span class="token operator">=</span> scale <span class="token operator">==</span> <span class="token number">1.0</span> <span class="token operator">?</span> <span class="token number">1.5</span> <span class="token punctuation">:</span> <span class="token number">1.0</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><hr> <h3 id="long-press-gesture"><a href="#long-press-gesture" class="header-anchor">#</a> Long Press Gesture</h3> <p>A <strong>long press gesture</strong> triggers when the user holds their touch for a set duration.</p> <hr> <h4 id="example-1-basic-long-press"><a href="#example-1-basic-long-press" class="header-anchor">#</a> <strong>Example 1: Basic Long Press</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">LongPressExample</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isPressed <span class="token operator">=</span> <span class="token boolean">false</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>isPressed <span class="token operator">?</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>red <span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>gray<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>onLongPressGesture <span class="token punctuation">{</span>
                isPressed<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr> <h4 id="example-2-long-press-with-haptic-feedback"><a href="#example-2-long-press-with-haptic-feedback" class="header-anchor">#</a> <strong>Example 2: Long Press with Haptic Feedback</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token class-name">CoreHaptics</span>
<span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>

<span class="token keyword">struct</span> <span class="token class-name">LongPressWithHaptic</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
  <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> engine<span class="token punctuation">:</span> <span class="token class-name">CHHapticEngine</span><span class="token operator">?</span>
  <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isPressed <span class="token operator">=</span> <span class="token boolean">false</span>
  
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>isPressed <span class="token operator">?</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>green <span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>orange<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span>onLongPressGesture <span class="token punctuation">{</span>
        isPressed<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">playHaptic</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span>onAppear <span class="token punctuation">{</span>
        engine <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token class-name">CHHapticEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">try</span><span class="token operator">?</span> engine<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">playHaptic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> engine <span class="token operator">=</span> engine <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span>
    <span class="token keyword">let</span> intensity <span class="token operator">=</span> <span class="token class-name">CHHapticEventParameter</span><span class="token punctuation">(</span>parameterID<span class="token punctuation">:</span> <span class="token punctuation">.</span>hapticIntensity<span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> sharpness <span class="token operator">=</span> <span class="token class-name">CHHapticEventParameter</span><span class="token punctuation">(</span>parameterID<span class="token punctuation">:</span> <span class="token punctuation">.</span>hapticSharpness<span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token class-name">CHHapticEvent</span><span class="token punctuation">(</span>eventType<span class="token punctuation">:</span> <span class="token punctuation">.</span>hapticContinuous<span class="token punctuation">,</span> parameters<span class="token punctuation">:</span> <span class="token punctuation">[</span>intensity<span class="token punctuation">,</span> sharpness<span class="token punctuation">]</span><span class="token punctuation">,</span> relativeTime<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> duration<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
    
    <span class="token keyword">if</span> <span class="token keyword">let</span> pattern <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token class-name">CHHapticPattern</span><span class="token punctuation">(</span>events<span class="token punctuation">:</span> <span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">,</span> parameters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token keyword">let</span> player <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> engine<span class="token punctuation">.</span><span class="token function">makePlayer</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> pattern<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span><span class="token operator">?</span> player<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>atTime<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><hr> <h4 id="example-3-long-press-with-timer"><a href="#example-3-long-press-with-timer" class="header-anchor">#</a> <strong>Example 3: Long Press with Timer</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">LongPressWithTimer</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">{</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Count: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>purple<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">onLongPressGesture</span><span class="token punctuation">(</span>minimumDuration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    count <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><hr> <h4 id="example-4-long-press-with-visual-progress"><a href="#example-4-long-press-with-visual-progress" class="header-anchor">#</a> <strong>Example 4: Long Press with Visual Progress</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">enum</span> <span class="token class-name">LongPressState</span><span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> idle
  <span class="token keyword">case</span> pressing
  <span class="token keyword">case</span> pressed
  
  <span class="token keyword">var</span> message<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token keyword">self</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>idle<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;Press and Hold!&quot;</span></span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>pressing<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;Long Press Activated!&quot;</span></span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>pressed<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;Long Press Completed!&quot;</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">var</span> color<span class="token punctuation">:</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token keyword">self</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>idle<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>gray<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>pressing<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>green
    <span class="token keyword">case</span> <span class="token punctuation">.</span>pressed<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>blue
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
<span class="token punctuation">}</span>

<span class="token keyword">struct</span> <span class="token class-name">ContentView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
  <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> pressingState<span class="token punctuation">:</span> <span class="token class-name">LongPressState</span> <span class="token operator">=</span> <span class="token punctuation">.</span>idle
  <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> longPressedCompleted <span class="token operator">=</span> <span class="token boolean">false</span>
  
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token class-name">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Text</span><span class="token punctuation">(</span>pressingState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>pressingState<span class="token punctuation">.</span>color<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">animation</span><span class="token punctuation">(</span><span class="token punctuation">.</span>easeInOut<span class="token punctuation">,</span> value<span class="token punctuation">:</span> pressingState<span class="token punctuation">)</span>
      
      <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>pressingState<span class="token punctuation">.</span>color<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">onLongPressGesture</span><span class="token punctuation">(</span>
          minimumDuration<span class="token punctuation">:</span> <span class="token number">3.0</span><span class="token punctuation">,</span>
          pressing<span class="token punctuation">:</span> <span class="token punctuation">{</span> isPressing <span class="token keyword">in</span>
            <span class="token keyword">if</span> longPressedCompleted <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token punctuation">{</span>
              pressingState <span class="token operator">=</span> <span class="token punctuation">.</span>pressing
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              pressingState <span class="token operator">=</span> <span class="token punctuation">.</span>idle
              longPressedCompleted <span class="token operator">=</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> perform<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            longPressedCompleted<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            pressingState <span class="token operator">=</span> <span class="token punctuation">.</span>pressed
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><hr> <h3 id="drag-gesture"><a href="#drag-gesture" class="header-anchor">#</a> Drag Gesture</h3> <p>A <strong>drag gesture</strong> tracks the movement of a user‚Äôs finger.</p> <hr> <h4 id="example-1-dragging-a-view"><a href="#example-1-dragging-a-view" class="header-anchor">#</a> <strong>Example 1: Dragging a View</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">DragExample</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token class-name">CGSize</span><span class="token punctuation">.</span>zero
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>orange<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">gesture</span><span class="token punctuation">(</span>
                <span class="token class-name">DragGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onChanged <span class="token punctuation">{</span> gesture <span class="token keyword">in</span>
                        offset <span class="token operator">=</span> gesture<span class="token punctuation">.</span>translation
                    <span class="token punctuation">}</span>
                    <span class="token punctuation">.</span>onEnded <span class="token punctuation">{</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
                        offset <span class="token operator">=</span> <span class="token punctuation">.</span>zero
                    <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><hr> <h4 id="example-2-drag-with-snapping-back"><a href="#example-2-drag-with-snapping-back" class="header-anchor">#</a> <strong>Example 2: Drag with Snapping Back</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">SnapBackDragExample</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token class-name">CGSize</span><span class="token punctuation">.</span>zero
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>purple<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">gesture</span><span class="token punctuation">(</span>
                <span class="token class-name">DragGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onChanged <span class="token punctuation">{</span> value <span class="token keyword">in</span>
                        offset <span class="token operator">=</span> value<span class="token punctuation">.</span>translation
                    <span class="token punctuation">}</span>
                    <span class="token punctuation">.</span>onEnded <span class="token punctuation">{</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
                        withAnimation <span class="token punctuation">{</span>
                            offset <span class="token operator">=</span> <span class="token punctuation">.</span>zero
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><hr> <h4 id="example-3-drag-with-color-change"><a href="#example-3-drag-with-color-change" class="header-anchor">#</a> <strong>Example 3: Drag with Color Change</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">DragWithColorExample</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token class-name">CGSize</span><span class="token punctuation">.</span>zero
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>blue
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">gesture</span><span class="token punctuation">(</span>
                <span class="token class-name">DragGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onChanged <span class="token punctuation">{</span> value <span class="token keyword">in</span>
                        offset <span class="token operator">=</span> value<span class="token punctuation">.</span>translation
                        color <span class="token operator">=</span> <span class="token punctuation">.</span>green
                    <span class="token punctuation">}</span>
                    <span class="token punctuation">.</span>onEnded <span class="token punctuation">{</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
                        color <span class="token operator">=</span> <span class="token punctuation">.</span>blue
                    <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><hr> <h4 id="example-4-multi-view-drag"><a href="#example-4-multi-view-drag" class="header-anchor">#</a> <strong>Example 4: Multi-View Drag</strong></h4> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">MultiViewDrag</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> offsets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">CGSize</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">CGSize</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span> <span class="token class-name">CGSize</span><span class="token punctuation">.</span>zero<span class="token punctuation">]</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">{</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">2</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> index <span class="token keyword">in</span>
                <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>red <span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>offsets<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">gesture</span><span class="token punctuation">(</span>
                        <span class="token class-name">DragGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span>onChanged <span class="token punctuation">{</span> gesture <span class="token keyword">in</span>
                                offsets<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> gesture<span class="token punctuation">.</span>translation
                            <span class="token punctuation">}</span>
                            <span class="token punctuation">.</span>onEnded <span class="token punctuation">{</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
                                offsets<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">.</span>zero
                            <span class="token punctuation">}</span>
                    <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/20/2024, 11:07:24 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/f2024/modules/week12/lecture1.html" class="prev">
        üöÄ Animations
      </a></span> <span class="next"><a href="/f2024/modules/week12/exercises.html">
        ü§Ø Exercises
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/f2024/assets/js/app.ff4b473c.js" defer></script><script src="/f2024/assets/js/2.19621ee8.js" defer></script><script src="/f2024/assets/js/1.884addea.js" defer></script><script src="/f2024/assets/js/53.7b36724f.js" defer></script>
  </body>
</html>
